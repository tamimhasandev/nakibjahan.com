{"version":3,"file":"js/tracking-compat.js","mappings":"AAAAA,SAASC,iBAAkB,oBAAoB,WAC9C,IAAMC,EAASC,yCAGTC,EACL,uDACKC,EAAgBL,SAASM,eAAgB,wBACzCC,EACLC,SAASC,KAAO,IAAML,EAAiC,KAClDM,EAAiBR,EAAOS,iBACxBC,EAAwBV,EAAOW,yBAC/BC,EAA2BZ,EAAOa,6BAClCC,EAAuBhB,SAASiB,cACrC,oDAKKC,EAAyB,WAC9B,IAAMC,EAASnB,SAASiB,cAAe,yBAClCE,IAEsB,SAAzBA,EAAOC,MAAMC,SACY,KAAzBF,EAAOC,MAAMC,QAEbF,EAAOC,MAAMC,QAAU,QAEvBF,EAAOC,MAAMC,QAAU,OAGzB,EAEKC,EAAwB,SAAxBA,EAAmCC,GACC,SAApCA,EAAeC,IAAK,WACxBC,YAAY,kBAAMH,EAAuBC,EAA7B,GAA+C,KAE3DG,OAAQtB,GAAiCuB,KACxCpB,EACA,IACA,WACCW,GACA,GAGH,EAGAR,QACyB,IAAlBL,GACU,MAAjBA,GAEAA,EAAcJ,iBAAkB,SAAS,SAAW2B,GACnDV,IACAI,EAAuBI,OAAQ,yBAC/B,IAIDd,QACgC,IAAzBI,GACiB,MAAxBA,GAEAA,EAAqBf,iBAAkB,SAAS,SAAW2B,GAC1DV,IACAI,EAAuBI,OAAQ,2BAC/B,IAIDZ,QACoC,IAA7BA,GACqB,MAA5BA,GAEAd,SAASC,iBAAkB,SAAS,SAAW2B,GACVA,EAAMC,OAAOC,QA1DlD,iHA+DEZ,IACAO,YAAY,WACXC,OAAQtB,GAAiCuB,KACxCpB,EACA,IACA,WACCW,GACA,GAEF,GAAE,KAEJ,GAEF","sources":["webpack://ppcp-compat/./resources/js/tracking-compat.js"],"sourcesContent":["document.addEventListener( 'DOMContentLoaded', () => {\n\tconst config = PayPalCommerceGatewayOrderTrackingCompat;\n\n\tconst orderTrackingContainerId = 'ppcp_order-tracking';\n\tconst orderTrackingContainerSelector =\n\t\t'#ppcp_order-tracking .ppcp-tracking-column.shipments';\n\tconst gzdSaveButton = document.getElementById( 'order-shipments-save' );\n\tconst loadLocation =\n\t\tlocation.href + ' ' + orderTrackingContainerSelector + '>*';\n\tconst gzdSyncEnabled = config.gzd_sync_enabled;\n\tconst wcShipmentSyncEnabled = config.wc_shipment_sync_enabled;\n\tconst wcShippingTaxSyncEnabled = config.wc_shipping_tax_sync_enabled;\n\tconst wcShipmentSaveButton = document.querySelector(\n\t\t'#woocommerce-shipment-tracking .button-save-form'\n\t);\n\tconst wcShipmentTaxBuyLabelButtonSelector =\n\t\t'.components-modal__screen-overlay .label-purchase-modal__sidebar .purchase-section button.components-button';\n\n\tconst toggleLoaderVisibility = function () {\n\t\tconst loader = document.querySelector( '.ppcp-tracking-loader' );\n\t\tif ( loader ) {\n\t\t\tif (\n\t\t\t\tloader.style.display === 'none' ||\n\t\t\t\tloader.style.display === ''\n\t\t\t) {\n\t\t\t\tloader.style.display = 'block';\n\t\t\t} else {\n\t\t\t\tloader.style.display = 'none';\n\t\t\t}\n\t\t}\n\t};\n\n\tconst waitForTrackingUpdate = function ( elementToCheck ) {\n\t\tif ( elementToCheck.css( 'display' ) !== 'none' ) {\n\t\t\tsetTimeout( () => waitForTrackingUpdate( elementToCheck ), 100 );\n\t\t} else {\n\t\t\tjQuery( orderTrackingContainerSelector ).load(\n\t\t\t\tloadLocation,\n\t\t\t\t'',\n\t\t\t\tfunction () {\n\t\t\t\t\ttoggleLoaderVisibility();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n\tif (\n\t\tgzdSyncEnabled &&\n\t\ttypeof gzdSaveButton !== 'undefined' &&\n\t\tgzdSaveButton != null\n\t) {\n\t\tgzdSaveButton.addEventListener( 'click', function ( event ) {\n\t\t\ttoggleLoaderVisibility();\n\t\t\twaitForTrackingUpdate( jQuery( '#order-shipments-save' ) );\n\t\t} );\n\t}\n\n\tif (\n\t\twcShipmentSyncEnabled &&\n\t\ttypeof wcShipmentSaveButton !== 'undefined' &&\n\t\twcShipmentSaveButton != null\n\t) {\n\t\twcShipmentSaveButton.addEventListener( 'click', function ( event ) {\n\t\t\ttoggleLoaderVisibility();\n\t\t\twaitForTrackingUpdate( jQuery( '#shipment-tracking-form' ) );\n\t\t} );\n\t}\n\n\tif (\n\t\twcShippingTaxSyncEnabled &&\n\t\ttypeof wcShippingTaxSyncEnabled !== 'undefined' &&\n\t\twcShippingTaxSyncEnabled != null\n\t) {\n\t\tdocument.addEventListener( 'click', function ( event ) {\n\t\t\tconst wcShipmentTaxBuyLabelButton = event.target.closest(\n\t\t\t\twcShipmentTaxBuyLabelButtonSelector\n\t\t\t);\n\n\t\t\tif ( wcShipmentTaxBuyLabelButton ) {\n\t\t\t\ttoggleLoaderVisibility();\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\tjQuery( orderTrackingContainerSelector ).load(\n\t\t\t\t\t\tloadLocation,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\ttoggleLoaderVisibility();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}, 10000 );\n\t\t\t}\n\t\t} );\n\t}\n} );\n"],"names":["document","addEventListener","config","PayPalCommerceGatewayOrderTrackingCompat","orderTrackingContainerSelector","gzdSaveButton","getElementById","loadLocation","location","href","gzdSyncEnabled","gzd_sync_enabled","wcShipmentSyncEnabled","wc_shipment_sync_enabled","wcShippingTaxSyncEnabled","wc_shipping_tax_sync_enabled","wcShipmentSaveButton","querySelector","toggleLoaderVisibility","loader","style","display","waitForTrackingUpdate","elementToCheck","css","setTimeout","jQuery","load","event","target","closest"],"sourceRoot":""}